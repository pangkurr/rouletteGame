function shuffleArray(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function commodity(){return number=Math.floor(Math.random()*itemLength03),prize03=item03.eq(number).find(".item_txt").text(),prize03}function arrowAni(t,e,n){function r(){o.animate({deg:a},{duration:50,easing:"easeOutBounce",step:function(t){$(this).css({transform:"rotate("+t+"deg)"})},complete:function(){return n=!1,n}})}let o=r_03.find(".arrow"),a=0,i=0-1*(e-1510);o.stop(!0,!1),t>=98&&e>=1515&&e<=1530?o.animate({deg:i},{duration:50,easing:"easeOutBounce",step:function(t){$(this).css({transform:"rotate("+t+"deg)"})}}):o.animate({deg:i},{duration:50,easing:"easeOutBounce",step:function(t){$(this).css({transform:"rotate("+t+"deg)"})},complete:function(){r()}})}function calculatePercent(t){return Math.round(t.width()/t.parent().width()*100)}function getRandomColor(){let t="0123456789ABCDEF",e="#";do{for(let n=0;n<6;n++)e+=t[Math.floor(16*Math.random())]}while("#FFFFFF"===e||"#000000"===e);return e}function getRandomColor2s(){let t=["db7093","20b2aa","d63e92","daa520","ff340f","ff7f50","4169e1","3cb371"],e="#";return e+=t[Math.floor(8*Math.random())],e}function updateDefault(t){1==t?(product[0]=r7.querySelector(".defaultInput._1").value,r7.querySelector(".defaultInput._1").value,drawRoulette()):(product[1]=r7.querySelector(".defaultInput._2").value,r7.querySelector(".defaultInput._2").value,drawRoulette())}function updateRoulette(){const t=r7.querySelector(".itemInput").value;t?(product.push(t),r7.querySelector(".itemInput").value="",drawRoulette()):alert("Please enter a valid value")}function removeItem(){product.length>2?(product.pop(),drawRoulette()):alert("최소 2개의 아이템은 존재해야 합니다.")}function drawRoulette(){let t=canvas.offsetWidth,e=canvas.offsetHeight;const n=product.length,r=360;let o=[];for(let t=0;t<n;t++){let e={first:r/n*t,last:r/n*(t+1),text:product[t]};o.push(e)}o.forEach(n=>{ctx.save(),ctx.beginPath(),ctx.lineWidth=1,ctx.strokeStyle="gray",ctx.moveTo(t/2,e/2),ctx.fillStyle=getRandomColor(),ctx.arc(t/2,e/2,t/2,n.first*(Math.PI/180),n.last*(Math.PI/180),!1),ctx.closePath(),ctx.stroke(),ctx.fill(),ctx.fillStyle="#000",ctx.font="bold 16px Arial",ctx.textAlign="center",ctx.textBaseline="middle";const r=t/2+t/2*Math.cos((n.first+n.last)/2*Math.PI/180)/2,o=e/2+e/2*Math.sin((n.first+n.last)/2*Math.PI/180)/2;ctx.fillText(n.text,r,o),ctx.restore()}),ctx.save(),ctx.beginPath(),ctx.lineWidth=1,ctx.fillStyle="#fff",ctx.moveTo(t/2,e/2),ctx.arc(t/2,e/2,.08*t,Math.PI/180*0,Math.PI/180*360,!1),ctx.closePath(),ctx.fill(),ctx.fillStyle="#000",ctx.font="bold 30px Arial",ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillText("W",t/2,e/1.95),ctx.restore()}function cRotate(){const t=rRandom(),e=360/product.length,n=t*e+3600-e/4+3*e,r=n+prevRotate;canvas.style.animation="";let o=4e3*Math.random()+2e3;console.log(t),canvas.animate([{transform:"rotate(0deg)"},{transform:"rotate("+-r+"deg)"}],{fill:"forwards",duration:o,easing:"ease-in-out"}).onfinish=function(){console.log(product[t])}}const r_01=$("#roulette_01");let spinNum,itemLength=r_01.find(".item").length;const numRandom=()=>{let t=Math.ceil(0),e=Math.floor(itemLength-1);return Math.floor(Math.random()*(e-t))+t};r_01.find(".startBtn").on("click",function(){Math.floor(Math.random()*itemLength);let t=[];for(var e=1,n=itemLength;e<=n;e++)t.push(360/n*e);setNum=numRandom(),spinNum=720+45*t[setNum],r_01.find(".wheel").animate({deg:spinNum},{duration:3e3,step:function(t){$(this).css({transform:"rotate("+t+"deg)"})}})}),r_01.find(".stopBtn").on("click",function(){const t=()=>{let t=spinNum%360,e=t-t%(360/itemLength);r_01.find(".wheel").animate({deg:spinNum+(e-t)},{duration:1e3,easing:"easeOutCubic",step:function(t){$(this).css({transform:"rotate("+t+"deg)"})}})};t()});const r_02=$("#roulette_02"),mark=r_02.find(".mark");let prize02,randomNumber,spin,initialDeg=1800;const prizeChoice=()=>(randomNumber=Math.floor(Math.random()*r_02.find(".item").length),prize02=r_02.find(".item:eq("+randomNumber+") .item_txt").text(),randomNumber);let stopDeg02=0;r_02.find(".startBtn").on("click",function(){switch(clearInterval(spin),prizeChoice(),randomNumber){case 0:spin=initialDeg+Math.floor(45*Math.random()+290);break;case 1:let t=Math.floor(2*Math.random()+1);spin=1==t?initialDeg+Math.floor(20*Math.random()):initialDeg+Math.floor(25*Math.random()+335);break;case 2:spin=initialDeg+Math.floor(45*Math.random()+20);break;case 3:spin=initialDeg+Math.floor(45*Math.random()+65);break;case 4:spin=initialDeg+Math.floor(45*Math.random()+110);break;case 5:spin=initialDeg+Math.floor(45*Math.random()+155);break;case 6:spin=initialDeg+Math.floor(45*Math.random()+200);break;case 7:spin=initialDeg+Math.floor(45*Math.random()+245)}mark.animate({deg:stopDeg02+5e3},{duration:0,step:function(t){$(this).css({transform:"rotate("+t+"deg)"})},complete:function(){stopDeg02=spin,mark.animate({deg:stopDeg02},{duration:3e3,easing:"easeOutCubic",step:function(t){$(this).css({transform:"rotate("+t+"deg)"})},complete:function(){console.log(prize02)}})}}),console.log(randomNumber+"  "+prize02+"   "+spin)});const r_03=$("#roulette_03"),wheel03=r_03.find(".wheel"),startBtn03=r_03.find(".startBtn"),stopBtn03=r_03.find(".stopBtn"),item03=r_03.find(".item"),itemLength03=item03.length,dots03=r_03.find(".dot"),arrow03=r_03.find(".arrow").get(0).getBoundingClientRect();let number,prize03,rotate03,degArray=[],stopDeg03=0,pointDeg=[23,68,113,158,203,248,293,338];startBtn03.on("click",function(){switch(commodity(),number){case 0:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[0]);break;case 1:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[7]);break;case 2:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[6]);break;case 3:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[5]);break;case 4:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[4]);break;case 5:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[3]);break;case 6:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[2]);break;case 7:rotate03=initialDeg+Math.floor(45*Math.random()+pointDeg[1])}wheel03.animate({deg:stopDeg03-3600},{duration:0,step:function(t){$(this).css({transform:"rotate("+t+"deg)"})},complete:function(){stopDeg03=rotate03,wheel03.animate({deg:stopDeg03},{duration:3e3,easing:"easeOutCubic",step:function(t){$(this).css({transform:"rotate("+t+"deg)"});let e=r_03.find(".dot"),n=!1;e.each((e,r)=>{let o=r.getBoundingClientRect();o.x>1510&&o.x<1550&&0==n&&(n=!0,console.log(o.x),arrowAni(t,o.x,n))})},complete:function(){console.log(prize03)}})}})});const r_04=$("#roulette_04"),items4=r_04.find(".item"),itemNum4=items4.length;let intervalId,prize04;r_04.find(".startBtn").on("click",function(){function t(){const n=Math.floor(Math.random()*items4.length),r=items4.eq(n);prize04=r.text(),items4.removeClass("active"),r.addClass("active"),e++,e>20?clearInterval(intervalId):intervalId=setTimeout(t,10*e)}let e=0;t()}),r_04.find(".stopBtn").on("click",function(){clearInterval(intervalId),console.log(prize04)}),r_04.find(".random").on("click",function(){let t=["개","고양이","개구리","참새","지렁이","악어","호랑이","토끼","살쾡이"];var e=shuffleArray(t);items4.each(function(t){$(this).text(e[t])})});const r_05=$("#roulette_05"),arrow=r_05.find(".arrow"),items5=r_05.find(".item"),itemNum5=r_05.find(".item").length,randomIndex=Math.floor(Math.random()*itemNum5),prize=items5.eq(randomIndex).text();let arrowWidth;const setBorder=function(t){items5.css("border","1px solid #333"),items5.eq(t).css("border","3px solid red")};r_05.find(".startBtn").on("click",function(){function t(){var t=0,e=setInterval(function(){if(5===t)return clearInterval(e),void console.log(r_05.find(".item.active").text());arrow.animate({width:"100%"},{duration:250,easing:"linear",step:function(t,e){var n=calculatePercent(arrow);n<=19.9?setBorder(0):n<=39.9?setBorder(1):n<=59.9?setBorder(2):n<=79.9?setBorder(3):n<=100&&setBorder(4)}}),arrow.animate({width:"0%"},{duration:250,easing:"linear",step:function(t,e){var n=Math.round(arrow.width()/arrow.parent().width()*100);n<=19.9?setBorder(0):n>=20&&n<=39.9?setBorder(1):n>=40&&n<=59.9?setBorder(2):n>=60&&n<=79.9?setBorder(3):n>=80&&n<=100&&setBorder(4)}}),t++},100)}arrow.css({width:"0%"}),items5.removeClass("active"),items5.css("border","1px solid #333"),t()}),r_05.find(".stopBtn").on("click",function(){arrow.stop(!0,!1);const t=arrow.width(),e=arrow.parent().width(),n=t/e*100;n<=19.9?r_05.find(".item:eq(0)").addClass("active"):n<=39.9?r_05.find(".item:eq(1)").addClass("active"):n<=59.9?r_05.find(".item:eq(2)").addClass("active"):n<=79.9?r_05.find(".item:eq(3)").addClass("active"):n<=100&&r_05.find(".item:eq(4)").addClass("active")});let itemHeight,roulette6=$("#roulette_06"),randomNickIdx=Math.floor(Math.random()*roulette6.find(".item").length);roulette6.find(".startBtn").on("click",function(t){itemHeight=-100*randomNickIdx,console.log(randomNickIdx);for(let t=0;t<5;t++)$(".itemwrap").animate({top:"-1100%"},500,"linear"),$(".itemwrap").animate({top:"0%"},500,"linear");setTimeout(function(){$(".itemwrap").animate({top:itemHeight},{duration:3e3,easing:"easeOutBounce",step:function(t){$(this).css({top:t})}})},5e3)}),roulette6.find(".stopBtn").on("click",function(){$(".itemwrap").stop(!0,!1),$(".itemwrap").animate({top:itemHeight},{duration:2e3,easing:"easeOutBounce",step:function(t){$(this).css({top:t})}}),setTimeout(function(){let t=roulette6.find(".item:eq("+randomNickIdx+")").text();alert(`상품 : ${t}`)},2500)}),roulette6.find(".random").on("click",function(){let t=["홍길동","둘리","마이콜","기가Z","쥬라기","박혁거세","이순신","태양","수성","목성","해왕성","블랙홀"],e=shuffleArray(t);roulette6.find(".item").each(function(t){$(this).text(e[t])})});const r7=document.querySelector("#roulette_07"),canvas=r7.querySelector(".canvas"),ctx=canvas.getContext("2d");let width=canvas.offsetWidth,height=canvas.offsetHeight,product=["기본값1","기본값2"];drawRoulette();let remove=r7.querySelector(".removeBtn"),add=r7.querySelector(".addBtn"),default1=r7.querySelector(".default1"),default2=r7.querySelector(".default2"),c_start=r7.querySelector(".startBtn");remove.addEventListener("click",removeItem),add.addEventListener("click",updateRoulette),default1.addEventListener("click",function(){updateDefault(1)}),default2.addEventListener("click",function(){updateDefault(2)}),c_start.addEventListener("click",cRotate);let prevRotate=0;const rRandom=()=>{let t=Math.ceil(0),e=Math.floor(product.length);return Math.floor(Math.random()*(e-t))+t},r8=document.querySelector("#roulette_08");let nickItem;const start8=r8.querySelector(".startBtn");let nickArr=[];fetch("hangle.txt").then(t=>t.text()).then(t=>{let e=t.split("\n");nickItem=r8.querySelectorAll(".nickItem");for(let t=0;t<nickItem.length;t++){let t=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e.length),r=e[t]+e[n];nickArr.push(r)}}).then(function(){nickItem.forEach((t,e)=>{t.innerHTML=nickArr[e]})}).catch(t=>console.error(t));let intervalId8=null;start8.addEventListener("click",function(){fetch("hangle.txt").then(t=>t.text()).then(t=>{let e=t.split("\n");nickItem=r8.querySelectorAll(".nickItem");for(let t=0;t<nickItem.length;t++){let t=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e.length),r=e[t]+e[n];nickArr.push(r)}}).then(function(){nickItem.forEach((t,e)=>{t.innerHTML=nickArr[e]})}).catch(t=>console.error(t));let t=0,e=0;const n=50+e,r=3e3,o=Math.floor(r/n);intervalId8=setInterval(()=>{nickItem.forEach((e,n)=>{t=(t+1)%nickArr.length,console.log(t),e.innerHTML=nickArr[t]}),e++,e===o&&clearInterval(intervalId8)},n)});